{
    "script_1": "https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",
    "script_2": "\nfunction OptanonWrapper() {\n\tif(customerAlreadyDecided()){\n\n\t\treadCustomerChoice() && globalUtil.faqSearchCookie && globalUtil.faqSearchCookie.init();\n\t}\n\tfunction customerAlreadyDecided(){\n\t\treturn -1 < document.cookie.indexOf('OptanonAlertBoxClosed=');\n\t}\n\tfunction readCustomerChoice() {\n        // We just need to agree which group of the customer should mean the he wants to use the support center with all the cookies\n\t\t// EXAMPLE: if the user has the C0004 it means we can start with all the cookies\n        return OptanonActiveGroups.includes('C0002');\n    }\n\t\tif ( document.location.href.indexOf('cookie') > -1 ) {\n\t\t\t$('#onetrust-pc-sdk, .onetrust-pc-dark-filter, #onetrust-banner-sdk').hide();\n\t\t\t$('.ot-sdk-show-settings').show();\n\t\t}\n\t\n\tif(window.optanonActiveGroupsAux === undefined){\n\t\t   window.optanonActiveGroupsAux = window.OptanonActiveGroups;\n\t}\n\tvar currentActiveGroups = OptanonActiveGroups.split(',').slice(1,OptanonActiveGroups.split(',').length-1);\n\tfor(var i=0; i<currentActiveGroups.length; i++){\n\t  if(optanonActiveGroupsAux.indexOf(currentActiveGroups[i]) == -1){\n\t\t   switch(currentActiveGroups[i]){\n\t\t\t\t case 'C0002':\n\t\t\t\t\t   _satellite.track(\"DCRPerformance\");\n\t\t\t\t\t   break;\n\t\t\t\t case 'C0003':\n\t\t\t\t\t   _satellite.track(\"DCRFunctional\");\n\t\t\t\t\t   break;\n\t\t\t\t case 'C0004':\n\t\t\t\t\t   _satellite.track(\"DCRTargeting\");\n\t\t\t\t\t   break;\n\t\t\t\t case 'C0005':\n\t\t\t\t\t   _satellite.track(\"DCRSocialMedia\");\n\t\t\t\t\t   break;\n\t\t\t\t case 'C0009':\n\t\t\t\t\t   _satellite.track(\"DCRAnonAnalytics\");\n\t\t\t\t\t   break;\n\t\t   }\n\t  }   \n\t}\n\toptanonActiveGroupsAux = window.OptanonActiveGroups;             \n}\n",
    "script_3": "\n\t\t var digitalData = {\n                    \"page\" : {\n\n\t\t\t\t\t\t\"name\" :\"HOME:&gt;PERSONAL\",\n                        \"url\" :  \"https://www.natwest.com\",\n                        \"queryParam\" : \"\",\n                        \"type\" : \"HOME\"\n                    },\n                    \"user\" : {\n                        \"loggedIn\" : \"N\"\n                    },\n                    \"site\" : {\n                        \"brand\" : \"NATWEST\",\n                        \"section\" : \"PERSONAL\",\n                        \"businessArea\":\"Personal\",\n                        \"webChat\" : \"''\"\n                    },\n                   \"server\": {\n                        \"toolName\":\"\"\n                    },\n\t\t\t\t\t\"featureFlags\" : {\n\t\t\t\t\t\t\t\"sessionReplay\" : false,\n\t\t\t\t\t\t\t\"surveyHotjar\" : false,\n\t\t\t\t\t\t\t\"surveyMaritz\" : false,\n\t\t\t\t\t\t\t\"overWrite\":{\n\t\t\t\t\t\t\t\t\"sessionReplay\":false,          \n\t\t\t\t\t\t\t\t\"surveyHotjar\":false,\n\t\t\t\t\t\t\t\t\"surveyMaritz\":false,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\"event\":[]\n\n\n        },IDM = {\n\t\t\tvalidationRules : {},\n\t\t\tvalidationMsgs: {},\n\t\t\tlightboxPaths: {}\t\n\t\t};\n\n\t ",
    "script_4": "https://assets.adobedtm.com/launch-EN36e7398f32914ad28e21b622457f151b.min.js",
    "script_5": "https://assets.adobedtm.com/extensions/EPe51f9b26f7c243dfa8d1d3ea2bf16f5f/AppMeasurement.min.js",
    "script_6": "https://assets.adobedtm.com/extensions/EPe51f9b26f7c243dfa8d1d3ea2bf16f5f/AppMeasurement_Module_ActivityMap.min.js",
    "script_7": "https://www.natwest.com/etc.clientlibs/clientlibs/granite/jquery.min.js",
    "script_8": "https://www.natwest.com/etc.clientlibs/clientlibs/granite/utils.min.js",
    "script_9": "https://www.natwest.com/etc.clientlibs/clientlibs/granite/jquery/granite.min.js",
    "script_10": "https://www.natwest.com/etc.clientlibs/foundation/clientlibs/jquery.min.js",
    "script_11": "https://www.natwest.com/etc.clientlibs/foundation/clientlibs/shared.min.js",
    "script_12": "https://www.natwest.com/etc.clientlibs/responsive/clientlibs/clientlib_base-_35e07300742cb766264ed0b93113d9b0.min.js",
    "script_13": "https://www.natwest.com/etc.clientlibs/responsive/clientlibs/clientlib_base_two-_c079690ce20a73f45c29696d2e4b7d01.min.js",
    "script_14": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/dynamicmedia/clientlibs/viewer-_3540a16837e3cda68c7f239acb8b7a89.min.js",
    "script_15": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/dynamicmedia/clientlibs/i18n-_35e07300742cb766264ed0b93113d9b0.min.js",
    "script_16": "https://www.natwest.com/etc.clientlibs/responsive/clientlibs/clientlib_base_three-_155294a8a0a07ad3998e63e7093769fb.min.js",
    "script_17": "https://www.natwest.com/etc.clientlibs/clientlibs/granite/jquery/granite/csrf.min.js",
    "script_18": "https://cdn.cookielaw.org/scripttemplates/6.31.0/otBannerSdk.js",
    "script_19": "https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/16ee76f512ad/RCe341fca97a43436a8c0c01f2546fdc93-source.min.js",
    "script_20": "https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/16ee76f512ad/RC52e0b522bd0b4e87b221f2698d3409a1-source.min.js",
    "script_21": "https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/16ee76f512ad/RCd3cb324d96c3437985dd83b7e54fcde3-source.min.js",
    "script_22": "https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/16ee76f512ad/RCeb1f7e30931f4b3caa3ea9cdc8faf99e-source.min.js",
    "script_23": "https://lptag.liveperson.net/tag/tag.js?site=49343281",
    "script_24": "https://www.natwest.com/etc.clientlibs/responsive/clientlibs/clientlib_smartbanner/clientlib_smartbanner_base-_35e07300742cb766264ed0b93113d9b0.min.js",
    "script_25": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/iaglobalsearch/clientlibs/clientlib_ia_global_search_base-_3b792edde9052e55ed1be7e177fb1b85.min.js",
    "script_26": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/iaheadernavigation/clientlibs/clientlib_ia_headernavigation_base-_c079690ce20a73f45c29696d2e4b7d01.min.js",
    "script_27": "https://www.natwest.com/etc.clientlibs/clientlibs/granite/jquery/granite/csrf.min.js",
    "script_28": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/notificarioncarousel/clientlibs/clientlib_notification_base-_7ad603327c300d88c7efdd686a27d4b6.min.js",
    "script_29": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/image/clientlibs/clientlib_global_image_base-_7ad603327c300d88c7efdd686a27d4b6.min.js",
    "script_30": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/rte/clientlibs/clientlib_rte_base_dtm-_52116cc441fb90cd2ca76a1f6ec77915.min.js",
    "script_31": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/rte/clientlibs/clientlib_rte_base-_c079690ce20a73f45c29696d2e4b7d01.min.js",
    "script_32": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/cta/clientlibs/clientlib_cta_base_dtm-_52116cc441fb90cd2ca76a1f6ec77915.min.js",
    "script_33": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/cta/clientlibs/clientlib_cta_base-_9c0a0f0a76061e2ba98574ca8a0ce1bc.min.js",
    "script_34": "https://www.natwest.com/etc.clientlibs/responsive/components/personalization/completionprompt/clientlibs/clientlib_completionprompt_base-_687a480f7b98cb90d0d4bb405e4a461f.min.js",
    "script_35": "https://www.natwest.com/etc.clientlibs/responsive/editable/components/foundation/image/clientlibs/clientlib_image_base/clientlibs-_c079690ce20a73f45c29696d2e4b7d01.min.js",
    "script_36": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/image/clientlibs/clientlib_image_base/clientlibs-_7ad603327c300d88c7efdd686a27d4b6.min.js",
    "script_37": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/title/clientlibs/clientlib_title_base-_7ad603327c300d88c7efdd686a27d4b6.min.js",
    "script_38": "https://www.natwest.com/etc.clientlibs/responsive/components/personalization/thinnerhero/clientlibs/clientlib_thinnerhero_base-_7ad603327c300d88c7efdd686a27d4b6.min.js",
    "script_39": "https://www.natwest.com/etc.clientlibs/responsive/shelves/productlistingmultiple/clientlibs/clientlib_productlisting_multiple_shelf_base-_687a480f7b98cb90d0d4bb405e4a461f.min.js",
    "script_40": "https://www.natwest.com/etc.clientlibs/responsive/shelves/singlearticle/clientlibs/clientlib_singlearticle_base-_3540a16837e3cda68c7f239acb8b7a89.min.js",
    "script_41": "\n_satellite.getVar('productData');\n_satellite.getVar('dotTarget');\n_satellite.getParameterByName = function (param, url) {\n  try {\n    var href = url || location.href;\n    var regexp = new RegExp( '[?&]' + param + '=([^&#]*)', 'i' );\n    var qString = regexp.exec(href);\n    return qString ? qString[1] : null;\n  } catch (e) {\n    _satellite.logger.error('Failed to run getQueryParam',e);\n  }\n}\ndigitalData.user.ecid = _satellite.getVar('visitorId');\n\n/**\n * Speed Performance based on Google Web Vitals\n * CLS: Cumulative Layout shift -  Fractional number that indicates the amount of shifting the page does. Multiply by 1000 for precision good<0.1 poor>0.25\n * FID: First Input Delay - measured in ms - good<100ms poor>300ms\n * LCP: Largest contentful paint - measured in sec - good<2.5s poor>4s\n * FCP: First contentful paint - measured in sec\n * TTFB: Time to First Byte - measured in ms\n * Legacy Duration: - Full page load time, largely out of date and meaningless now but needed for legacy reasons - Measured in sec\n * Effective Type - Only really supported by chrome this now but gives an indiciation of the users connection speed\n * PageName - Page name of the page the data relates to - s.contextData['performance.pageName']\n * \n * If the page is going to unload then the script will attempt to store any data set to false in sessionStorage for access in the next page\n * \n * !!!Out of the Box - The code DOES NOT send any data to Adobe!!!\n * See seperate sendDatatoAdobe function on how to send data to Adobe, this part may need amended depending on the platform it is being used on\n * \n */\n\n/**\n * This function should be placed/called before each Adobe server call is sent to ensure all available data is sent with each call\n * Function will initially try to send any previous data before trying to send current page data\n * @returns {undefined}\n *\n */\nfunction sendPerformanceDataToAdobe() {\n  window.digitalData = window.digitalData || {};\n  window.digitalData.page = window.digitalData.page || {};\n  window.digitalData.page.performance = window.digitalData.page.performance || [];\n  try {\n    if (window.digitalData.page.previousPagePerformance) {\n      window.digitalData.page.previousPagePerformance.forEach(function(item){\n        if (!item.sent){\n          var contextName = 'performance.' + item.name;\n          window.s.contextData[contextName] = item.value;\n          item.sent = true;\n        }\n      });\n      window.digitalData.page.previousPagePerformance = '';\n      return;\n    }\n    if (window.digitalData.page.performance) {\n      window.digitalData.page.performance.forEach(function(item){\n        if (!item.sent){\n          var contextName = 'performance.' + item.name;\n          s.contextData[contextName] = item.value;\n          s.contextData['performance.pageName'] = 'D=pageName';\n          item.sent = true;\n        }\n      });\n      return;\n    }\n  } catch (e) {\n    _satellite.logger.error('Failed to send performance data to Adobe',e);\n  }\n}\n\n/**\n * Returns n rounded to digits\n * @param {number} n - Input number to be rounded\n * @param {number} digits - Number of digits to round to, if undefined, assumed 0\n * @returns {number}\n */\nfunction roundTo(n, digits) {\n  try {\n    var negative = false;\n    if (digits === undefined) {\n      digits = 0;\n    }\n    if ( n < 0) {\n      negative = true;\n      n = n * -1;\n    }\n    var multiplicator = Math.pow(10, digits);\n    n = parseFloat((n * multiplicator).toFixed(11));\n    n = (Math.round(n) / multiplicator).toFixed(2);\n    if (negative) {\n      n = (n * -1).toFixed(2);\n    }\n    return n;\n  } catch (e) {\n    _satellite.logger.error('Failed to round number',e);\n  }\n}\n/**\n * Pushes a value to the data layer in the correct format and sets sent to false\n * @param {object} metric - Object containing the name and value of the value to be passed to the datalayer\n */\nfunction processData(metric) {\n  try {\n    var value = metric.value;\n    if (metric.name === 'duration' || metric.name === 'LCP' || metric.name === 'FCP' || metric.name === 'TTI') {\n      value = value / 1000;\n    } else if (metric.name === 'CLS') {\n      value = value * 1000;\n    }\n    if (typeof(value) === 'number') {\n      value = roundTo(value,2);\n    }\n    window.digitalData = window.digitalData || {};\n    window.digitalData.page = window.digitalData.page || {};\n    window.digitalData.page.performance = window.digitalData.page.performance || [];\n    digitalData.page.performance.push({name: metric.name, value: value, sent: false});\n  } catch (e) {\n    _satellite.logger.error('Failed to process performance data',e);\n  }\n}\n\n/**\n * Returns the effective type or unsupported if browser doesn't support it\n * @returns {object|string}\n */\nfunction getEffectiveType() {\n  try {\n    if (navigator && navigator.connection) {\n      if (navigator.connection.effectiveType) {\n        var data = {name: 'effectiveType'};\n        data.value = navigator.connection.effectiveType;\n        return data;\n      }\n    } else {\n      return 'unsupported';\n    }\n  } catch (e) {\n    _satellite.logger.error('Failed to get effective type',e);\n  }\n}\n\n/**\n * Returns the load time from either the newer performance framework or the legacy one\n * @returns {number}\n */\nfunction getLegacyLoadTime() {\n  try {\n    var data = {name: 'duration'};\n    var pageNav = performance.getEntriesByType('navigation')[0];\n    if (pageNav){\n      if (pageNav.duration && pageNav.duration > 0) {\n        data.value = pageNav.duration;\n        return data;\n      }\n    } else {\n      var legacyLoad = performance.timing.loadEventEnd - performance.timing.navigationStart;\n      if (legacyLoad > 0) {\n        data.value = legacyLoad;\n        return data;\n      }\n    }\n  } catch (e) {\n    _satellite.logger.error('Failed to get legacy load time',e);\n  }\n}\n\n/**\n * On initial load this function will be called. It has the task of checking for previous page data and passing it in to the data layer\n * It then has the task of setting an event listener on pagehide event (new beforeunload) to get any unsent data and store it in sessionStorage\n */\nfunction handlePreviousPageData() {\n  try {\n    var storageKeyName = 'previousPageData';\n    var previousPageData = sessionStorage.getItem(storageKeyName);\n    if (previousPageData) {\n      var previousPageDataParsed = JSON.parse(previousPageData);\n      window.digitalData = window.digitalData || {};\n      window.digitalData.page = window.digitalData.page || {};\n      window.digitalData.page.previousPagePerformance = previousPageDataParsed;\n      sessionStorage.removeItem(storageKeyName);\n    }\n    window.addEventListener('pagehide', function(){\n      try {\n        sessionStorage.setItem('targetEvents', JSON.stringify(_satellite.getVar('targetEventsObject'))); //temporary until full target token code is refactored (needs to be compatible with AT V2/AEP)\n        var dataForStorage = [];\n        window.digitalData.page.performance.forEach(function(item){\n          if (!item.sent) {\n            dataForStorage.push(item);\n          }\n        });\n        if (dataForStorage.length > 0) {\n          var pageData = {name: 'pageName', value: window.s.pageName, sent: false};\n          dataForStorage.push(pageData);\n          sessionStorage.setItem(storageKeyName, JSON.stringify(dataForStorage));\n        }\n      } catch (e) {\n        _satellite.logger.error('Failed to run performance function - handlePreviousPageData pagehide', e);\n      }\n    });\n  } catch (e) {\n    _satellite.logger.error('Failed to run performance function - handlePreviousPageData',e);\n  }\n}\n\n// WEB VITALS CODE - START\n// Pollyfill Start\n!function(){var e,t,n,i,r={passive:!0,capture:!0},a=new Date,o=function(){i=[],t=-1,e=null,f(addEventListener)},c=function(i,r){e||(e=r,t=i,n=new Date,f(removeEventListener),u())},u=function(){if(t>=0&&t<n-a){var r={entryType:\"first-input\",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t};i.forEach((function(e){e(r)})),i=[]}},s=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;\"pointerdown\"==e.type?function(e,t){var n=function(){c(e,t),a()},i=function(){a()},a=function(){removeEventListener(\"pointerup\",n,r),removeEventListener(\"pointercancel\",i,r)};addEventListener(\"pointerup\",n,r),addEventListener(\"pointercancel\",i,r)}(t,e):c(t,e)}},f=function(e){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(t){return e(t,s,r)}))},p=\"hidden\"===document.visibilityState?0:1/0;addEventListener(\"visibilitychange\",(function e(t){\"hidden\"===document.visibilityState&&(p=t.timeStamp,removeEventListener(\"visibilitychange\",e,!0))}),!0);o(),self.webVitals={firstInputPolyfill:function(e){i.push(e),u()},resetFirstInputPolyfill:o,get firstHiddenTime(){return p}}}();\n// Pollyfill End\n\n// Web Vitals Core Start\n!function(e){\"use strict\";var t=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:\"v2-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12)}},n=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if(\"first-input\"===e&&!(\"PerformanceEventTiming\"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},i=function(e,t){var n=function n(i){\"pagehide\"!==i.type&&\"hidden\"!==document.visibilityState||(e(i),t&&(removeEventListener(\"visibilitychange\",n,!0),removeEventListener(\"pagehide\",n,!0)))};addEventListener(\"visibilitychange\",n,!0),addEventListener(\"pagehide\",n,!0)},r=function(e){addEventListener(\"pageshow\",(function(t){t.persisted&&e(t)}),!0)},a=function(e,t,n){var i;return function(r){t.value>=0&&(r||n)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},o=-1,u=function(){i((function(e){var t=e.timeStamp;o=t}),!0)},s=function(){return o<0&&((o=window.webVitals.firstHiddenTime)===1/0&&u(),r((function(){setTimeout((function(){o=\"hidden\"===document.visibilityState?0:1/0,u()}),0)}))),{get firstHiddenTime(){return o}}},c=function(e,i){var o,u=s(),c=t(\"FCP\"),f=function(e){\"first-contentful-paint\"===e.name&&(m&&m.disconnect(),e.startTime<u.firstHiddenTime&&(c.value=e.startTime,c.entries.push(e),o(!0)))},d=window.performance&&performance.getEntriesByName&&performance.getEntriesByName(\"first-contentful-paint\")[0],m=d?null:n(\"paint\",f);(d||m)&&(o=a(e,c,i),d&&f(d),r((function(n){c=t(\"FCP\"),o=a(e,c,i),requestAnimationFrame((function(){requestAnimationFrame((function(){c.value=performance.now()-n.timeStamp,o(!0)}))}))})))},f=!1,d=-1,m={};e.getCLS=function(e,o){f||(c((function(e){d=e.value})),f=!0);var u,s=function(t){d>-1&&e(t)},m=t(\"CLS\",0),v=0,l=[],p=function(e){if(!e.hadRecentInput){var t=l[0],n=l[l.length-1];v&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(v+=e.value,l.push(e)):(v=e.value,l=[e]),v>m.value&&(m.value=v,m.entries=l,u())}},g=n(\"layout-shift\",p);g&&(u=a(s,m,o),i((function(){g.takeRecords().map(p),u(!0)})),r((function(){v=0,d=-1,m=t(\"CLS\",0),u=a(s,m,o)})))},e.getFCP=c,e.getFID=function(e,o){var u,c=s(),f=t(\"FID\"),d=function(e){e.startTime<c.firstHiddenTime&&(f.value=e.processingStart-e.startTime,f.entries.push(e),u(!0))},m=n(\"first-input\",d);u=a(e,f,o),m&&i((function(){m.takeRecords().map(d),m.disconnect()}),!0),m||window.webVitals.firstInputPolyfill(d),r((function(){f=t(\"FID\"),u=a(e,f,o),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(d)}))},e.getLCP=function(e,o){var u,c=s(),f=t(\"LCP\"),d=function(e){var t=e.startTime;t<c.firstHiddenTime&&(f.value=t,f.entries.push(e)),u()},v=n(\"largest-contentful-paint\",d);if(v){u=a(e,f,o);var l=function(){m[f.id]||(v.takeRecords().map(d),v.disconnect(),m[f.id]=!0,u(!0))};[\"keydown\",\"click\"].forEach((function(e){addEventListener(e,l,{once:!0,capture:!0})})),i(l,!0),r((function(n){f=t(\"LCP\"),u=a(e,f,o),requestAnimationFrame((function(){requestAnimationFrame((function(){f.value=performance.now()-n.timeStamp,m[f.id]=!0,u(!0)}))}))}))}},e.getTTFB=function(e){var n,i=t(\"TTFB\");n=function(){try{var t=performance.getEntriesByType(\"navigation\")[0]||function(){var e=performance.timing,t={entryType:\"navigation\",startTime:0};for(var n in e)\"navigationStart\"!==n&&\"toJSON\"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();if(i.value=i.delta=t.responseStart,i.value<0||i.value>performance.now())return;i.entries=[t],e(i)}catch(e){}},\"complete\"===document.readyState?setTimeout(n,0):addEventListener(\"pageshow\",n)},Object.defineProperty(e,\"__esModule\",{value:!0})}(this.webVitals=this.webVitals||{});\n// Web Vitals Core End\n// WEB VITALS CODE - END\n\n//LEGACY TTI POLYFILL START\n(function(){var h=\"undefined\"!=typeof window&&window===this?this:\"undefined\"!=typeof global&&null!=global?global:this,k=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function l(){l=function(){};h.Symbol||(h.Symbol=m)}var n=0;function m(a){return\"jscomp_symbol_\"+(a||\"\")+n++}\nfunction p(){l();var a=h.Symbol.iterator;a||(a=h.Symbol.iterator=h.Symbol(\"iterator\"));\"function\"!=typeof Array.prototype[a]&&k(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return q(this)}});p=function(){}}function q(a){var b=0;return r(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function r(a){p();a={next:a};a[h.Symbol.iterator]=function(){return this};return a}function t(a){p();var b=a[Symbol.iterator];return b?b.call(a):q(a)}\nfunction u(a){if(!(a instanceof Array)){a=t(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var v=0;function w(a,b){var c=XMLHttpRequest.prototype.send,d=v++;XMLHttpRequest.prototype.send=function(f){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];var E=this;a(d);this.addEventListener(\"readystatechange\",function(){4===E.readyState&&b(d)});return c.apply(this,e)}}\nfunction x(a,b){var c=fetch;fetch=function(d){for(var f=[],e=0;e<arguments.length;++e)f[e-0]=arguments[e];return new Promise(function(d,e){var g=v++;a(g);c.apply(null,[].concat(u(f))).then(function(a){b(g);d(a)},function(a){b(a);e(a)})})}}var y=\"img script iframe link audio video source\".split(\" \");function z(a,b){a=t(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,b.includes(c.nodeName.toLowerCase())||z(c.children,b))return!0;return!1}\nfunction A(a){var b=new MutationObserver(function(c){c=t(c);for(var b=c.next();!b.done;b=c.next())b=b.value,\"childList\"==b.type&&z(b.addedNodes,y)?a(b):\"attributes\"==b.type&&y.includes(b.target.tagName.toLowerCase())&&a(b)});b.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:[\"href\",\"src\"]});return b}\nfunction B(a,b){if(2<a.length)return performance.now();var c=[];b=t(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.push({timestamp:d.start,type:\"requestStart\"}),c.push({timestamp:d.end,type:\"requestEnd\"});b=t(a);for(d=b.next();!d.done;d=b.next())c.push({timestamp:d.value,type:\"requestStart\"});c.sort(function(a,b){return a.timestamp-b.timestamp});a=a.length;for(b=c.length-1;0<=b;b--)switch(d=c[b],d.type){case \"requestStart\":a--;break;case \"requestEnd\":a++;if(2<a)return d.timestamp;break;default:throw Error(\"Internal Error: This should never happen\");\n}return 0}function C(a){a=a?a:{};this.w=!!a.useMutationObserver;this.u=a.minValue||null;a=window.__tti&&window.__tti.e;var b=window.__tti&&window.__tti.o;this.a=a?a.map(function(a){return{start:a.startTime,end:a.startTime+a.duration}}):[];b&&b.disconnect();this.b=[];this.f=new Map;this.j=null;this.v=-Infinity;this.i=!1;this.h=this.c=this.s=null;w(this.m.bind(this),this.l.bind(this));x(this.m.bind(this),this.l.bind(this));D(this);this.w&&(this.h=A(this.B.bind(this)))}\nC.prototype.getFirstConsistentlyInteractive=function(){var a=this;return new Promise(function(b){a.s=b;\"complete\"==document.readyState?F(a):window.addEventListener(\"load\",function(){F(a)})})};function F(a){a.i=!0;var b=0<a.a.length?a.a[a.a.length-1].end:0,c=B(a.g,a.b);G(a,Math.max(c+5E3,b))}\nfunction G(a,b){!a.i||a.v>b||(clearTimeout(a.j),a.j=setTimeout(function(){var b=performance.timing.navigationStart,d=B(a.g,a.b),b=(window.a&&window.a.A?1E3*window.a.A().C-b:0)||performance.timing.domContentLoadedEventEnd-b;if(a.u)var f=a.u;else performance.timing.domContentLoadedEventEnd?(f=performance.timing,f=f.domContentLoadedEventEnd-f.navigationStart):f=null;var e=performance.now();null===f&&G(a,Math.max(d+5E3,e+1E3));var g=a.a;5E3>e-d?d=null:(d=g.length?g[g.length-1].end:b,d=5E3>e-d?null:Math.max(d,\nf));d&&(a.s(d),clearTimeout(a.j),a.i=!1,a.c&&a.c.disconnect(),a.h&&a.h.disconnect());G(a,performance.now()+1E3)},b-performance.now()),a.v=b)}\nfunction D(a){a.c=new PerformanceObserver(function(b){b=t(b.getEntries());for(var c=b.next();!c.done;c=b.next())if(c=c.value,\"resource\"===c.entryType&&(a.b.push({start:c.fetchStart,end:c.responseEnd}),G(a,B(a.g,a.b)+5E3)),\"longtask\"===c.entryType){var d=c.startTime+c.duration;a.a.push({start:c.startTime,end:d});G(a,d+5E3)}});a.c.observe({entryTypes:[\"longtask\",\"resource\"]})}C.prototype.m=function(a){this.f.set(a,performance.now())};C.prototype.l=function(a){this.f.delete(a)};\nC.prototype.B=function(){G(this,performance.now()+5E3)};h.Object.defineProperties(C.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(u(this.f.values()))}}});var H={getFirstConsistentlyInteractive:function(a){a=a?a:{};return\"PerformanceLongTaskTiming\"in window?(new C(a)).getFirstConsistentlyInteractive():Promise.resolve(null)}};\n\"undefined\"!=typeof module&&module.exports?module.exports=H:\"function\"===typeof define&&define.amd?define(\"ttiPolyfill\",[],function(){return H}):window.ttiPolyfill=H;})();\n//LEGACY TTI POLYFILL END\n\n\n/**\n * This is the main block of code which runs on page load - order of events:\n * Set up the datalayer\n * Call previousPageData function to handle and manage previous page data\n * Start the web vitals listening\n * Check for availability of legacy metrics\n */\ntry {\n    window.digitalData = window.digitalData || {};\n    window.digitalData.page = window.digitalData.page || {};\n    window.digitalData.page.performance = window.digitalData.page.performance || [];\n    handlePreviousPageData();\n    webVitals.getCLS(processData);\n    webVitals.getFID(processData);\n    webVitals.getLCP(processData);\n    webVitals.getFCP(processData);\n    webVitals.getTTFB(processData);\n    ttiPolyfill.getFirstConsistentlyInteractive().then(function getTTI(tti) {\n      var data = {};\n      data.name = 'TTI';\n      data.value = tti;\n      processData(data);\n    });\n\n    var checkLegacyTimingData = setInterval(function() {\n      var legacyLoadTime = getLegacyLoadTime();\n      if (legacyLoadTime) {\n        clearInterval(checkLegacyTimingData);\n        processData(legacyLoadTime);\n      }\n    }, 500);\n\n    var checkEffectiveType = setInterval(function() {\n      var effectiveType = getEffectiveType();\n      if (effectiveType) {\n        clearInterval(checkEffectiveType);\n        if (effectiveType !== 'unsupported') {\n          processData(effectiveType);\n        }\n      }\n    }, 500);\n} catch (e) {\n    _satellite.logger.error('Failed to run performance timings', e);\n};\n\n",
    "script_42": "\nfunction webchat(b, a, k, g, l, c, t) {\n  var locVar = false;\n  var lpDivID;\n  var SlideoutFound = false;\n  var divsAdded = [];\n  var divFound;\n  var i = 0;\n  var locJMselectionMob = true;\n  var locJMselectionDesk = true;\n  var arrMob = _satellite.getVar('lpMobileURLs');\n  var arrDesk = _satellite.getVar('lpDesktopURLs');\n  var found = false;\n\n  if (document.querySelector('.displaysidebar-webchat')) {\n    locVar = true;\n  }\n\n  for (i = 0; i < arrMob.length && !found; i += 1) {\n    if (document.location.href.match(arrMob[i])) {\n      found = true;\n      locJMselectionMob = false;\n      locJMselectionDesk = true;\n    }\n  }\n\n  if (!found) {\n    for (i = 0; i < arrDesk.length && !found; i += 1) {\n      if (document.location.href.match(arrDesk[i])) {\n        found = true;\n        locJMselectionMob = false;\n        locJMselectionDesk = false;\n      }\n    }\n  }\n  window.lpGlob = {\n    unit: b,\n    Buttons: t,\n    Product: l,\n    displaysidebar: locVar,\n    displaySlideOutOnMobile: locJMselectionMob,\n    displaySlideOutOnDesktop: locJMselectionDesk\n  };\n}\n\n",
    "script_43": " document.write(new Date().getFullYear()); ",
    "script_44": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/footer/clientlibs/clientlib_footer_base-_7ad603327c300d88c7efdd686a27d4b6.min.js",
    "script_45": "https://www.natwest.com/etc.clientlibs/responsive/components/foundation/iafooter/clientlibs/clientlib_ia_footer_base-_7ad603327c300d88c7efdd686a27d4b6.min.js",
    "script_46": "_satellite[\"_runScript1\"](function(event, target, Promise) {\ntry{document.querySelectorAll('[href*=\"aiglife.co.uk\"]').forEach((e=>{e.href=_satellite.getVisitorId().appendVisitorIDsTo(e.href)}))}catch(e){_satellite.logger.error(\"append visitor id failed to run\",e)}\n});",
    "script_47": "_satellite[\"_runScript2\"](function(event, target, Promise) {\ntry{window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error(\"Failed to send performance dara to Adobe\",e)}\n});",
    "script_48": "\nfunction startLivePerson(){try{!livePersonStarted&&lpTag.start&&lpTag.isDom?(lpTag.start(),livePersonStarted=!0,livePersonAwaitReady&&clearInterval(livePersonAwaitReady)):livePersonAwaitReady||(livePersonAwaitReady=setInterval(startLivePerson,100))}catch(e){_satellite.logger.error(\"Failed in startLivePerson\",e)}}function scLe2DataReceiver(e){try{_satellite.logger.info(\"Data received from Analytics proxy, full data object\",e),\"chatting\"===e.state&&null===sessionStorage.getItem(\"sc_chatting\")&&(_satellite.track(\"livePersonDataSend\",{skill:e.skill,agentId:e.agentId,conversationId:e.conversationId,monitoringSessionId:e.monitoringSessionId,campaignId:e.campaignId,state:e.state}),sessionStorage.setItem(\"sc_chatting\",\"sc_chatting\")),\"interactive\"===e.state&&null===sessionStorage.getItem(\"sc_interactive\")&&(_satellite.track(\"livePersonDataSend\",{skill:e.skill,agentId:e.agentId,conversationId:e.conversationId,monitoringSessionId:e.monitoringSessionId,campaignId:e.campaignId,state:e.state}),sessionStorage.setItem(\"sc_interactive\",\"sc_interactive\")),\"ended\"===e.state&&(_satellite.track(\"livePersonDataSend\",{skill:e.skill,agentId:e.agentId,conversationId:e.conversationId,monitoringSessionId:e.monitoringSessionId,campaignId:e.campaignId,state:e.state}),sessionStorage.removeItem(\"sc_chatting\"),sessionStorage.removeItem(\"sc_interactive\"))}catch(e){_satellite.logger.error(\"Failed in scLe2DataReceiver\",e)}}function getChatWindow(){try{var e;return lpTag&&lpTag.taglets&&lpTag.taglets.lpUnifiedWindow&&lpTag.taglets.lpUnifiedWindow.inspect().conf&&(e=document.getElementById(lpTag.taglets.lpUnifiedWindow.inspect().conf.wrapperElementId)),e}catch(e){_satellite.logger.error(\"Failed in getChatWindow\",e)}}function widgetOverride(){try{var e=document.querySelector(\"button[data-lp-point='widget_sdk']\"),t=document.getElementById(\"LP_SliderViewController_1\"),a=!1,i=!1;return t||(t=document.getElementById(\"LP_WidgetViewController_1\"),a=!0),e&&t&&((\"none\"===t.style.display||a)&&e.click(),i=!0),i}catch(e){_satellite.logger.error(\"Failed in widgetOverride\",e)}}function getWidgetiFrame(){try{var e;if(lpTag&&lpTag.taglets&&lpTag.taglets.lpUnifiedWindow){var t=getChatWindow();t&&(e=t.querySelector(\"iframe[id^='LPFRM']\"))}return e}catch(e){_satellite.logger.error(\"Failed in getWidgetiFrame\",e)}}function sendUrlToWidget(e){try{var t=getWidgetiFrame();return!!t&&(t.contentWindow.postMessage({href:e},\"*\"),lpTag.storageMethods.setPersistentData(psName,e),!0)}catch(e){_satellite.logger.error(\"Failed in sendUrlToWidget\",e)}}function addLinkClickListener(){try{var e=getChatWindow();e&&e.addEventListener(\"click\",(function(e){e.target&&\"A\"===e.target.tagName.toUpperCase()&&e.target.href&&e.target.href.indexOf(\"openInLP\")>0&&(widgetOverride()&&sendUrlToWidget(e.target.href)&&(e.preventDefault(),lpTag.sdes.send({type:\"lead\",lead:{leadId:e.target.href}})))}))}catch(e){_satellite.logger.error(\"Failed in addLinkClickListener\",e)}}function hideWidgetOpener(){try{var e=document.querySelector('[data-lp-point=\"widget_sdk\"]'),t=document.querySelector(\".lp_slider_gap\");e&&(e.style.display=\"none\",t&&(t.style.marginLeft=\"0\"))}catch(e){_satellite.logger.error(\"Failed in hideWidgetOpener\",e)}}function sendPreviousUrlToWidget(){try{var e=lpTag.storageMethods.getPersistentData(psName);if(e){var t=getWidgetiFrame();t&&(sendUrlToWidget(e),t.addEventListener(\"load\",(function(){sendUrlToWidget(e)})))}}catch(e){_satellite.logger.error(\"Failed in sendPreviousUrlToWidget\",e)}}function mobileCheck(){try{var e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(t.substr(0,4)))&&(e=!0),e}catch(e){_satellite.logger.error(\"Failed in mobileCheck\",e)}var t}function unauthenticatedUser(){function e(e){e(null)}lpTag.identities.push(e)}function getlocalStorageConfig(e){try{let t=localStorage.getItem(e);return t?JSON.parse(t):{}}catch(e){_satellite.logger.error(\"Failed to retrieve live person localStorage overwrite\",e)}}function getAccountID(e){try{let a=\"39893241\";location.hostname.match(/intermediary\\.natwest\\.com|intermediarynatwestcom/g)&&(a=\"34420131\"),\"/business/ways-to-bank/bankline1.html\"==location.pathname&&(a=\"5524937\"),(\"/business/ways-to-bank/bankline/bankline-faq.html\"==location.pathname||\"/business/ways-to-bank/bankline/original-bankline-faq.html\"==location.pathname||e)&&(a=\"49343281\");let i=[\"/support-centre/payments-help.html\",\"/sharedservices\",\"/help-and-support/shared-services-help.html\",\"/paymentshelp\"];([\"www.iombank.com\",\"www.natwestinternational.com\",\"www.rbs.co.uk\",\"www.ulsterbank.ie\",\"www.ulsterbank.co.uk\",\"www.natwest.com\"].indexOf(document.location.hostname)>-1&&-1==i.indexOf(_satellite.getVar(\"pathName\"))||[\"NatWest\",\"RBS\",\"Ulster NI\",\"Ulster ROI\"].indexOf(_satellite.getVar(\"brandName\"))>-1&&[\"/support-centre/heretohelp.html\",\"/help-and-support/heretohelp.html\"].indexOf(_satellite.getVar(\"pathName\"))>-1)&&(a=\"49343281\");var t=_satellite.getVar(\"changeToCora\");return t&&(\"messaging\"===t?a=\"49343281\":\"yes\"===t?a=\"34529496\":\"test\"===t?a=\"31793736\":isNaN(Number(t))||(a=t)),a}catch(e){_satellite.logger.error(\"Failed to get live person account id\",e)}}function getBrandName(){try{let e=_satellite.getVar(\"livePersonBrand\");return location.hostname.match(/intermediary\\.natwest\\.com|intermediarynatwestcom/g)&&(e=\"NW Intermediary\"),e}catch(e){_satellite.logger.error(\"Failed to get live person brandName\",e)}}try{const e=Boolean(location.pathname.match(/\\/business\\/ways-to-bank\\/bankline((\\/)(help-and-support|get-to-know-bankline|new-bankline))?\\.html/)),t=getlocalStorageConfig(\"livePersonOverWriteConfig\"),a={siteLocation:\"bob\",brandName:getBrandName(),accountID:getAccountID(e),pageName:_satellite.getVar(\"pageNameCleaned\"),lob:_satellite.getVar(\"lpVal\")},i=Object.assign(a,t);window.lpTag=window.lpTag||{},lpTag.sdes=lpTag.sdes||[],window.lpTag.identities=window.lpTag.identities||[];var livePersonAwaitReady,livePersonStarted=!1;lpTag.autoStart=!1,window.sc_le2_dataReceiver=scLe2DataReceiver;var psName=\"lp_Widget_Url\",widgetEventsBound=!1;window.lpTag.section=[\"brand:\"+i.brandName,\"lob:\"+i.lob||\"\",\"location:\"+i.siteLocation,\"pageid:\"+i.pageName,\"sectiontree:\"+i.pageName],window.lpTag.tagletSection=(i.brandName||\"\")+\"-\"+i.siteLocation,(mobileCheck()&&window.lpGlob.displaySlideOutOnMobile&&window.lpGlob.displaysidebar||!mobileCheck()&&window.lpGlob.displaySlideOutOnDesktop&&window.lpGlob.displaysidebar)&&lpTag.section.push(\"slideout\"),!0===e&&unauthenticatedUser(),window.lpTag=window.lpTag||{},void 0===window.lpTag._tagCount?(window.lpTag={wl:lpTag.wl||null,scp:lpTag.scp||null,site:i.accountID||\"\",section:lpTag.section||\"\",tagletSection:lpTag.tagletSection||null,autoStart:!1!==lpTag.autoStart,ovr:lpTag.ovr||{},_v:\"1.10.0\",_tagCount:1,protocol:\"https:\",events:{bind:function(e,t,a){lpTag.defer((function(){lpTag.events.bind(e,t,a)}),0)},trigger:function(e,t,a){lpTag.defer((function(){lpTag.events.trigger(e,t,a)}),1)}},defer:function(e,t){0===t?(this._defB=this._defB||[],this._defB.push(e)):1===t?(this._defT=this._defT||[],this._defT.push(e)):(this._defL=this._defL||[],this._defL.push(e))},load:function(e,t,a){var i=this;setTimeout((function(){i._load(e,t,a)}),0)},_load:function(e,t,a){var i=e;e||(i=this.protocol+\"//\"+(this.ovr&&this.ovr.domain?this.ovr.domain:\"lptag.liveperson.net\")+\"/tag/tag.js?site=\"+this.site);var n=document.createElement(\"script\");n.setAttribute(\"charset\",t||\"UTF-8\"),a&&n.setAttribute(\"id\",a),n.setAttribute(\"src\",i),document.getElementsByTagName(\"head\").item(0).appendChild(n)},init:function(){this._timing=this._timing||{},this._timing.start=(new Date).getTime();var e=this;window.attachEvent?window.attachEvent(\"onload\",(function(){e._domReady(\"domReady\")})):(window.addEventListener(\"DOMContentLoaded\",(function(){e._domReady(\"contReady\")}),!1),window.addEventListener(\"load\",(function(){e._domReady(\"domReady\")}),!1)),void 0===window._lptStop&&this.load()},start:function(){this.autoStart=!0},_domReady:function(e){this.isDom||(this.isDom=!0,this.events.trigger(\"LPT\",\"DOM_READY\",{t:e})),this._timing[e]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],hooks:lpTag.hooks||[],identities:lpTag.identities||[],ev:lpTag.ev||[]},lpTag.init()):window.lpTag._tagCount+=1,lpTag.events.bind(\"lpUnifiedWindow\",\"conversationInfo\",(function(e){widgetEventsBound||\"resume\"!==e.state&&\"waiting\"!==e.state||(\"waiting\"===e.state?lpTag.storageMethods.removePersistentData(psName):\"resume\"===e.state&&sendPreviousUrlToWidget(),addLinkClickListener(),widgetEventsBound=!0)})),startLivePerson()}catch(e){_satellite.logger.error(\"Failed during Live Person runtime\",e)}\n",
    "script_49": "_satellite[\"_runScript3\"](function(event, target, Promise) {\ntry{_satellite.logger.log(\"[Patch] Applying patch for AIP SPA links\");const e=localStorage.getItem(\"droppedKey\"),t=[\"spa.mortgages.natwest.com\"],a=[\"/customer-experience\",\"/customer-dashboard\"];if(e){let r=[],s=JSON.parse(e);Object.keys(s).forEach((e=>{r.push(`${e}=${s[e]}`)}));let o=document.querySelectorAll('a[href=\"https://spa.mortgages.natwest.com/customer-experience\"], a[href=\"https://spa.mortgages.natwest.com/customer-dashboard\"]');if(o&&o.length>0)for(let e=0;e<o.length;e++){let s=o[e];const l=s.hostname,c=s.search?s.search.split(\"&\"):[],n=s.pathname;t.indexOf(l)>-1&&a.indexOf(n)>-1&&(s.search=[...c,...r].join(\"&\"))}}}catch(e){_satellite.logger.error(\"[PATCH] Failed to add event listener for AIP SPA links\",e)}\n});"
}