!function e(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var o in r)("object"==typeof exports?exports:t)[o]=r[o]}}(this,(function(){return function(){var e={7841:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";var r,o;n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.DEV="dev",e.QA="qa",e.STAGING="staging",e.PROD="prod"}(r||(r={})),function(e){e.WEB="WEB",e.IOS="IOS",e.ANDROID="ANDROID",e.SERVER="SERVER"}(o||(o={}))},function(e,t){var n=/^([^=]+)=([^;]*)$/,t=e.exports=function(e,t){e||(e={}),"string"==typeof e&&(e={cookie:e}),void 0===e.cookie&&(e.cookie=""),!1!==t&&(t=!0);var r=function(e){return e},o=t?escape:r,i=t?unescape:r,a={get:function(t){for(var r=e.cookie.split(/;\s*/),o=0;o<r.length;o++){var a=(r[o]||"").match(n)||[],c;if(i(a[1]||"")===t)return i(a[2]||"")}},set:function(t,n,r){r||(r={});var i=o(t)+"="+o(n);return r.expires&&(i+="; expires="+r.expires),r.path&&(i+="; path="+o(r.path)),r.domain&&(i+="; domain="+o(r.domain)),r.secure&&(i+="; secure"),e.cookie=i,i}};return a};if("undefined"!=typeof document){var r=t(document);t.get=r.get,t.set=r.set}},function(e,t,n){"use strict";t.decode=t.parse=n(11),t.encode=t.stringify=n(12)},function(e,t,n){var r=n(13),o=n(14);function i(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[i+c]=a[c];return t||o(a)}e.exports=i},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionInfo=p;var r,o=c(n(1)),i,a=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}var u="SS_IS_FIRST_SESSION",s="SS_HAS_LANDED",f="SS_SESSION_ID",l=["squarespace.com","squarespace.net","sqsp.net"],d=function e(t,n){var r=void 0;l.forEach((function(e){window.location.hostname.indexOf(e)>-1&&(r=e)})),r=r||window.location.hostname,a.default.set(t,n,{domain:r,path:"/",secure:window.location.protocol.indexOf("https")>-1})};function p(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("undefined"!=typeof window){if(window._sessionInfo)return window._sessionInfo;try{var t=localStorage.getItem(s),n=sessionStorage.getItem(u),r=null===n,i=null===t||"true"===n,c=a.default.get(f);return localStorage.setItem(s,"true"),r&&(i?sessionStorage.setItem(u,"true"):sessionStorage.setItem(u,"false")),!c&&e&&(c=(0,o.default)(),d(f,c)),window._sessionInfo={isFirstLanding:r,isFirstSession:i,sessionId:c},window._sessionInfo}catch(e){return console.warn("Unable access local/session storage."),{isFirstLanding:!1,isFirstSession:!1}}}}},function(e,t,n){var r=n(2),o=n(3);function i(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[i+c]=a[c];return t||o(a)}e.exports=i},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function e(){return n(r),r}}else{var o=new Array(16);e.exports=function e(){for(var t=0,n;t<16;t++)0==(3&t)&&(n=4294967296*Math.random()),o[t]=n>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);function o(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}e.exports=o},function(e,t){var n=/^([^=]+)=([^;]*)$/,t=e.exports=function(e,t){e||(e={}),"string"==typeof e&&(e={cookie:e}),void 0===e.cookie&&(e.cookie=""),!1!==t&&(t=!0);var r=function(e){return e},o=t?escape:r,i=t?unescape:r,a={get:function(t){for(var r=e.cookie.split(/;\s*/),o=0;o<r.length;o++){var a=(r[o]||"").match(n)||[],c;if(i(a[1]||"")===t)return i(a[2]||"")}},set:function(t,n,r){r||(r={});var i=o(t)+"="+o(n);return r.expires&&(i+="; expires="+r.expires),r.path&&(i+="; path="+o(r.path)),r.domain&&(i+="; domain="+o(r.domain)),r.secure&&(i+="; secure"),e.cookie=i,i}};return a};if("undefined"!=typeof document){var r=t(document);t.get=r.get,t.set=r.set}}])},function(e){e.exports=JSON.parse('{"a":"3.9.7"}')},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function e(){return{devBaseDomainUrl:"https://clanker-events.stage.sqsp.net",cookie:{daysToStore:390,domains:["squarespace.com","squarespace.net","sqsp.net"],path:"/",secure:window.location.protocol.indexOf("https")>-1},expirationKey:"SS_ANALYTICS_EXPIRATION",fireEvents:!0,logging:!1,sourceEnvironment:r.c.DEV,storageKey:"SS_ANALYTICS_ID",url:"https://clanker-events.stage.sqsp.net/api/v1/clanker/events",useBeacon:!0,validateMode:!1,setAnalyticsCookie:!0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(10),o=n(1),i=n.n(o),a=n(2),c=n.n(a),u=n(3),s=n.n(u);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=y(e,"string");return"symbol"===f(t)?t:String(t)}function y(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g,h=new(d((function e(){p(this,e),v(this,"getItem",(function(e){try{return localStorage.getItem(e)}catch(e){return null}})),v(this,"removeItem",(function(e){try{return localStorage.removeItem(e)}catch(e){return}})),v(this,"setItem",(function(e,t){try{return localStorage.setItem(e,t)}catch(e){return}}))}))),b=n(0);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function O(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=P(e,"string");return"symbol"===w(t)?t:String(t)}function P(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var j=function(){function e(){var t,n,r;_(this,e),E(this,"_analyticsId",void 0),E(this,"_config",void 0),E(this,"_defaultPayload",void 0),E(this,"_safeSendBeacon",null===(t=window.navigator)||void 0===t||null===(n=t.sendBeacon)||void 0===n||null===(r=n.bind)||void 0===r?void 0:r.call(n,window.navigator))}return O(e,[{key:"track",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!1===this._config.fireEvents)return Promise.resolve();var n=this._generatePayload(t);return this._config.validateMode?this._validateEvent(n):this._config.url?n?this._config.useBeacon?this._sendBeacon(n):this._sendXhr(n):Promise.reject(new Error("no payload")):Promise.resolve()}},{key:"getAnalyticsId",value:function e(){return this._getAnalyticsId()}},{key:"_getAnalyticsId",value:function e(){var t=new URLSearchParams(window.location.search),n=this._validateAnalyticsId(t.get("analytics_id")),r=this._validateAnalyticsId(i.a.get(this._config.storageKey)),o=this._validateAnalyticsId(this._getLocalStorageItem()),a=this._validateAnalyticsId(this._analyticsId),c=n||r||o||a||s()();return this._config.setAnalyticsCookie&&this._setAnalyticsId(c),c}},{key:"_getLocalStorageItem",value:function e(){var t=!1,n=h.getItem(this._config.expirationKey),r,o;n&&(t=new Date>new Date(n));return t?(h.removeItem(this._config.storageKey),h.removeItem(this._config.expirationKey),null):h.getItem(this._config.storageKey)}},{key:"_getNormalizedPathname",value:function e(){var t=window.location.pathname;return"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t}},{key:"_generatePayload",value:function e(t){return t}},{key:"_log",value:function e(t){this._config.logging&&console.log(t)}},{key:"_sendBeacon",value:function e(t){var n={type:"application/x-www-form-urlencoded"},r=new Blob([c.a.stringify(t)],n);try{return this._safeSendBeacon(this._config.url,r),Promise.resolve()}catch(e){return this._isIllegalInvocationTypeError(e)?Promise.resolve():Promise.reject(e)}}},{key:"_isIllegalInvocationTypeError",value:function e(t){return t instanceof TypeError&&"Illegal invocation"===t.message}},{key:"_sendXhr",value:function e(t,n){var r=this;n=n||this._config.url;var o=new XMLHttpRequest,i=JSON.stringify(t),a=new Set([200,202]);return new Promise((function(e,t){o.open("POST",n,!0),o.setRequestHeader("Content-Type","application/json"),o.send(i),o.addEventListener("readystatechange",(function(){4===o.readyState&&(a.has(o.status)?e():(r._warn("Error tracking event: HTTP Status ".concat(o.status)),t(new Error("Error tracking event: HTTP Status ".concat(o.status)))))}))}))}},{key:"_setAnalyticsId",value:function e(t){this._analyticsId=t;var n=this._config.cookie,r=n.path,o=n.secure,a=window.location.hostname;this._config.cookie.domains.forEach((function(e){window.location.hostname.indexOf(e)>-1&&(a=e)}));var c=new Date;c.setDate(c.getDate()+this._config.cookie.daysToStore);var u=c.toUTCString();try{var s;if(i.a.set(this._config.storageKey,t,{domain:a,expires:u,path:r,secure:o}),document.cookie.indexOf(this._config.storageKey)!==document.cookie.lastIndexOf(this._config.storageKey)){var f=new Date(0).toUTCString();i.a.set(this._config.storageKey,null,{expires:f})}h.setItem(this._config.storageKey,t),h.setItem(this._config.expirationKey,u)}catch(e){this._warn("Unable to store analyticsId")}}},{key:"_validateAnalyticsId",value:function e(t){var n;return/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(t)?t:null}},{key:"_validateEvent",value:function e(t){return Promise.resolve(t)}},{key:"_warn",value:function e(t){this._config.logging&&console.warn(t)}}]),e}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return C})),n.d(t,"SiteVisitorClient",(function(){return L}));var r=n(7),o=n(1),i=n.n(o),a=n(4),c=n.n(a),u=n(5),s=n.t(5,1),f=n(0);n.d(t,"ClientConfig",(function(){return f.ClientConfig})),n.d(t,"EventSource",(function(){return f.b})),n.d(t,"SourceEnvironment",(function(){return f.c}));var l=n(6);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=["context_website_id","custom_schema_name","destination_url","member_account_id","object_identifier","resolved_locale","website_locale","member_account_locale"];function v(e,t){if(null==e)return{};var n=m(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function S(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e){var t=E(e,"string");return"symbol"===d(t)?t:String(t)}function E(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t},P(e,t)}function j(e){var t=I();return function n(){var r=x(e),o;if(t){var i=x(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return A(this,o)}}function A(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)},x(e)}var C=function(t){T(r,t);var n=j(r);function r(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,r),t=n.call(this);var i=Object(l.a)();return t._config=b(i,e),t._defaultPayload=o,"sendBeacon"in navigator||(t._config.useBeacon=!1),t._config.url=t._generateUrl(),t}return S(r,[{key:"_generatePayload",value:function t(n){var r,o,c=new Date,s=this._config.setAnalyticsCookie,f=Object(a.getSessionInfo)(s),l=g(g({},this._defaultPayload),n),d=l.context_website_id,m=l.custom_schema_name,y=l.destination_url,h=l.member_account_id,b=l.object_identifier,w=l.resolved_locale,_=l.website_locale,S=l.member_account_locale,O=v(l,p),E={analytics_id:this._getAnalyticsId(),browser_language:navigator.language,browser_window_height:window.innerHeight,browser_window_width:window.innerWidth,client_name:"Javascript Pipeline 2.0 Event Tracker Client",client_version:u.a,marketing_id:i.a.get("SS_MID")||null,page_host:window.location.hostname,page_path:this._getNormalizedPathname(),page_query_params:window.location.search,page_referrer_url:document.referrer,session_id:f.sessionId||null,enduser_user_agent:navigator.userAgent,event_occurrence_timestamp:c.getTime(),browser_locale:navigator.language};this._warnOfOverwrittenFields(l,E);var T=m||this._config.customSchemaName,P,j=Boolean(null===(r=e)||void 0===r||null===(o=r.env)||void 0===o?void 0:o.JEST_WORKER_ID)?"test":this._config.sourceEnvironment,A={eventContent:g(g(g({},O),E),{},{custom_schema_name:T,source_environment:j,context_website_id:d||null,destination_url:y||null,member_account_id:h||null,object_identifier:b||null,resolved_locale:w||document.documentElement.lang||"en-US",website_locale:_||null,member_account_locale:S||null}),eventSchemaName:T};return this._config.logging&&this._log({payload:g({},A)}),A.eventContent=JSON.stringify(A.eventContent),A}},{key:"_warnOfOverwrittenFields",value:function e(t,n){var r=this;Object.keys(t).forEach((function(e){t.hasOwnProperty(e)&&n.hasOwnProperty(e)&&r._warn("".concat(e," is auto populated by @sqs/track-events/v2 and was overwritten"))}))}},{key:"_generateUrl",value:function t(){var n,r,o;if(Boolean(null===(n=e)||void 0===n||null===(r=n.env)||void 0===r?void 0:r.JEST_WORKER_ID))return"https://clanker-events.stage.sqsp.net/api/v1/clanker/events";var i=this._config,a=i.sourceEnvironment,c=i.devBaseDomainUrl,u="";switch(a){case f.c.DEV:u="".concat(c,"/api/v1/clanker/events");break;case f.c.QA:case f.c.STAGING:u="https://clanker-events.stage.sqsp.net/api/v1/clanker/events";break;case f.c.PROD:u="https://clanker-events.squarespace.com/api/v1/clanker/events";break;default:this._warn("sourceEnvironment needs to be set to one of dev, staging, or prod"),u=""}return u}},{key:"spawnTracker",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=b({},this._defaultPayload,t);return new r(this._config,n)}},{key:"_validateEvent",value:function e(t){var n="".concat(this._config.devBaseDomainUrl,"/api/v1/clanker/validate-event-content/").concat(this._config.customSchemaName);return this._sendXhr(t.eventContent,n)}}]),r}(r.a),L=function(e){T(n,e);var t=j(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(this,n),t.call(this,g(g({},e),{},{setAnalyticsCookie:!1}),r)}return S(n)}(C)}.call(this,n(9))},function(e,t){var n=e.exports={},r,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s=[],f=!1,l,d=-1;function p(){f&&l&&(f=!1,l.length?s=l.concat(s):d=-1,s.length&&v())}function v(){if(!f){var e=c(p);f=!0;for(var t=s.length;t;){for(l=s,s=[];++d<t;)l&&l[d].run();d=-1,t=s.length}l=null,f=!1,u(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||f||c(v)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t){e.exports=n(92338)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var c=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var s=e.length;u>0&&s>u&&(s=u);for(var f=0;f<s;++f){var l=e[f].replace(c,"%20"),d=l.indexOf(n),p,v,m,y;d>=0?(p=l.substr(0,d),v=l.substr(d+1)):(p=l,v=""),m=decodeURIComponent(p),y=decodeURIComponent(v),r(a,m)?o(a[m])?a[m].push(y):a[m]=[a[m],y]:a[m]=y}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,c){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var c=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return c+encodeURIComponent(r(e))})).join(t):c+encodeURIComponent(r(e[a]))})).join(t):c?encodeURIComponent(r(c))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function e(){return n(r),r}}else{var o=new Array(16);e.exports=function e(){for(var t=0,n;t<16;t++)0==(3&t)&&(n=4294967296*Math.random()),o[t]=n>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);function o(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}e.exports=o}])},92338:function(e){"use strict";e.exports=void 0}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}function o(n){var r=t(n,"string");return"symbol"===e(r)?r:String(r)}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/**! 
 * @sqs/rum-collector v4.9.4 
 * Gather and deliver real-user performance metrics in Squarespace products. 
 * 
 * Copyright (c) 2023 Squarespace, Inc. 
 * 
 * 
 * @website: https://github.com/sqsp/web-performance-tools.git
 
 * Licensed under the UNLICENSED license 
 */
function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){if(Array.isArray(e))return e}function u(e){if(Array.isArray(e))return a(e)}function s(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[],o=!0,i=!1,a,c;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){i=!0,c=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw c}}return r}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function h(e,t){if(null==e)return{};var n=b(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function b(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function w(e,t){return c(e)||v(e,t)||S(e,t)||m()}function _(e){return u(e)||p(e)||S(e)||y()}function S(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function O(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}n.r(r);var E=Object.defineProperty,T=Object.getOwnPropertyNames,P=function(e,t){return function n(){return e&&(t=(0,e[T(e)[0]])(e=0)),t}},j=function(e,t){for(var n in t)E(e,n,{get:t[n],enumerable:!0})},A,k=P({"../../node_modules/.pnpm/nanoid@4.0.2/node_modules/nanoid/url-alphabet/index.js":function(){A="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}),I={},x,C,L,R;j(I,{customAlphabet:function(){return L},customRandom:function(){return C},nanoid:function(){return R},random:function(){return x},urlAlphabet:function(){return A}});var N=P({"../../node_modules/.pnpm/nanoid@4.0.2/node_modules/nanoid/index.browser.js":function(){k(),x=function(e){return crypto.getRandomValues(new Uint8Array(e))},C=function(e,t,n){var r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a="";;)for(var c=n(o),u=o;u--;)if((a+=e[c[u]&r]||"").length===i)return a}},L=function(e){var t;return C(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:21,x)},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}}}),M={},D,B,q,U;j(M,{getCumulativeLayoutShift:function(){return we},getDomainLookup:function(){return Fe},getFirstContentfulPaint:function(){return Ke},getFirstInputDelay:function(){return Ve},getLargestContentfulPaint:function(){return We},getNavigationTimingType:function(){return ze},getServerTiming:function(){return Je},getTcpConnection:function(){return Qe},getTlsNegotiation:function(){return Xe}});var H=-1,F=function e(t){addEventListener("pageshow",(function(e){e.persisted&&(H=e.timeStamp,t(e))}),!0)},K=function e(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},V=function e(){var t=K();return t&&t.activationStart||0},W=function e(t,n){var r=K(),o="navigate";return H>=0?o="back-forward-cache":r&&(o=document.prerendering||V()>0?"prerender":document.wasDiscarded?"restore":r.type.replace(/_/g,"-")),{name:t,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:o}},z=function e(t,n,r){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var o=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return o.observe(Object.assign({type:t,buffered:!0},r||{})),o}}catch(e){}},J=function e(t,n,r,o){var i,a;return function(e){var c,u;n.value>=0&&(e||o)&&((a=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=a,n.rating=(c=n.value)>(u=r)[1]?"poor":c>u[0]?"needs-improvement":"good",t(n))}},Q=function e(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},X=function e(t){var n=function e(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||t(n)};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Y=function e(t){var n=!1;return function(e){n||(t(e),n=!0)}},G=-1,$=function e(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Z=function e(t){"hidden"===document.visibilityState&&G>-1&&(G="visibilitychange"===t.type?t.timeStamp:0,te())},ee=function e(){addEventListener("visibilitychange",Z,!0),addEventListener("prerenderingchange",Z,!0)},te=function e(){removeEventListener("visibilitychange",Z,!0),removeEventListener("prerenderingchange",Z,!0)},ne=function e(){return G<0&&(G=$(),ee(),F((function(){setTimeout((function(){G=$(),ee()}),0)}))),{get firstHiddenTime(){return G}}},re=function e(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},oe=[1800,3e3],ie=function e(t,n){n=n||{},re((function(){var e,r=ne(),o=W("FCP"),i=z("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-V(),0),o.entries.push(t),e(!0)))}))}));i&&(e=J(t,o,oe,n.reportAllChanges),F((function(r){o=W("FCP"),e=J(t,o,oe,n.reportAllChanges),Q((function(){o.value=performance.now()-r.timeStamp,e(!0)}))})))}))},ae=[.1,.25],ce=function e(t,n){n=n||{},ie(Y((function(){var e,r=W("CLS",0),o=0,i=[],a=function t(n){n.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,e())},c=z("layout-shift",a);c&&(e=J(t,r,ae,n.reportAllChanges),X((function(){a(c.takeRecords()),e(!0)})),F((function(){o=0,r=W("CLS",0),e=J(t,r,ae,n.reportAllChanges),Q((function(){return e()}))})),setTimeout(e,0))})))},ue={passive:!0,capture:!0},se=new Date,fe=function e(t,n){D||(D=n,B=t,q=new Date,pe(removeEventListener),le())},le=function e(){if(B>=0&&B<q-se){var t={entryType:"first-input",name:D.type,target:D.target,cancelable:D.cancelable,startTime:D.timeStamp,processingStart:D.timeStamp+B};U.forEach((function(e){e(t)})),U=[]}},de=function e(t){if(t.cancelable){var n=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?(r=n,o=t,i=function e(){fe(r,o),c()},a=function e(){c()},c=function e(){removeEventListener("pointerup",i,ue),removeEventListener("pointercancel",a,ue)},addEventListener("pointerup",i,ue),addEventListener("pointercancel",a,ue)):fe(n,t)}var r,o,i,a,c},pe=function e(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,de,ue)}))},ve=[100,300],me=function e(t,n){n=n||{},re((function(){var e,r=ne(),o=W("FID"),i=function t(n){n.startTime<r.firstHiddenTime&&(o.value=n.processingStart-n.startTime,o.entries.push(n),e(!0))},a=function e(t){t.forEach(i)},c=z("first-input",a);e=J(t,o,ve,n.reportAllChanges),c&&X(Y((function(){a(c.takeRecords()),c.disconnect()}))),c&&F((function(){var r;o=W("FID"),e=J(t,o,ve,n.reportAllChanges),U=[],B=-1,D=null,pe(addEventListener),r=i,U.push(r),le()}))}))},ye=null,ge=[2500,4e3],he={},be=function e(t,n){n=n||{},re((function(){var e,r=ne(),o=W("LCP"),i=function t(n){var i=n[n.length-1];i&&i.startTime<r.firstHiddenTime&&(o.value=Math.max(i.startTime-V(),0),o.entries=[i],e())},a=z("largest-contentful-paint",i);if(a){e=J(t,o,ge,n.reportAllChanges);var c=Y((function(){he[o.id]||(i(a.takeRecords()),a.disconnect(),he[o.id]=!0,e(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,c,!0)})),X(c),F((function(r){o=W("LCP"),e=J(t,o,ge,n.reportAllChanges),Q((function(){o.value=performance.now()-r.timeStamp,he[o.id]=!0,e(!0)}))}))}}))},we=function(e){ce((function(t){var n;e({cumulativeLayoutShift:null!==(n=null==t?void 0:t.value)&&void 0!==n?n:void 0})}),{reportAllChanges:!0})},_e="/api/1/performance",Se="/records",Oe="load",Ee="visibilitychange",Te="SS_MID",Pe="SS_ANALYTICS_ID",je=3e4,Ae=/(iPhone|iPod|iPad) OS ((1[0-2])|[2-9])_\d+.*AppleWebKit(?!.*Safari)/i,ke="4.9.4",Ie=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t,r){try{e.apply(void 0,[function(e){t(e)}].concat(_(n)))}catch(e){r(e)}}))}},xe=function(e){return Ie(setTimeout)(e)},Ce=function(){return Ie((function(e){var t=function(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||(e(n),removeEventListener("visibilitychange",t,!0),removeEventListener("pagehide",t,!0))};window.addEventListener("visibilitychange",t,!0),window.addEventListener("pagehide",t,!0)}))()},Le=function(e){"complete"===document.readyState?window.setTimeout(e,0):window.addEventListener("pageshow",e,{once:!0})},Re=function(){return Ie(Le)},Ne=function(){var e={entryType:"navigation",startTime:0},t=performance.timing;for(var n in t)if("navigationStart"!==n&&"toJSON"!==n){var r=Math.max(t[n]-t.navigationStart,0);e[n]=r}return e},Me=(De=f((function(){var e,t;return O(this,(function(n){switch(n.label){case 0:return[4,Re()];case 1:return n.sent(),e=w(window.performance.getEntriesByType("navigation"),1),[2,null!=(t=e[0])?t:Ne()]}}))})),function e(){return De.apply(this,arguments)}),De,Be=function(){var e=f((function(e){var t,n;return O(this,(function(r){switch(r.label){case 0:return[4,Me()];case 1:return t=r.sent(),"number"!=typeof(n=t[e])||n<0||n>2147483647?[2]:[2,Math.round(n)]}}))}));return function t(n){return e.apply(this,arguments)}}(),qe=function(){var e=f((function(){var e;return O(this,(function(t){switch(t.label){case 0:return[4,Me()];case 1:return[2,(e=t.sent()).serverTiming]}}))}));return function t(){return e.apply(this,arguments)}}(),Ue=function(){var e=f((function(e){var t,n;return O(this,(function(r){switch(r.label){case 0:return[4,Me()];case 1:return t=r.sent(),"string"!=typeof(n=t[e])?[2]:[2,n]}}))}));return function t(n){return e.apply(this,arguments)}}(),He=function(e,t){if("number"==typeof e&&"number"==typeof t&&e>=t)return e-t},Fe=function(e){return Promise.all([Be("domainLookupEnd"),Be("domainLookupStart")]).then((function(t){var n=w(t,2),r=n[0],o=n[1];e({domainLookup:He(r,o)})}))},Ke=function(e){ie((function(t){e({firstContentfulPaint:t?Math.round(t.value):void 0})}))},Ve=function(e){me((function(t){e({firstInputDelay:t?Math.round(t.value):void 0})}))},We=function(e){be((function(t){e({largestContentfulPaint:t?Math.round(t.value):void 0})}))},ze=function(e){return Ue("type").then((function(t){e({navigationTimingType:t})}))},Je=function(e){return qe().then((function(t){e({serverTiming:JSON.stringify(t)})}))},Qe=function(e){return Promise.all([Be("connectEnd"),Be("connectStart")]).then((function(t){var n=w(t,2),r=n[0],o=n[1];e({tcpConnection:He(r,o)})}))},Xe=function(e){return Promise.all([Be("connectEnd"),Be("secureConnectionStart")]).then((function(t){var n=w(t,2),r=n[0],o=n[1];e({tlsNegotiation:He(r,o)})}))},Ye=["connectEnd","connectStart","decodedBodySize","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","encodedBodySize","fetchStart","loadEventEnd","loadEventStart","redirectCount","redirectEnd","redirectStart","responseStart","responseEnd","responseStatus","secureConnectionStart","transferSize","unloadEventEnd","unloadEventStart","workerStart"],Ge=["initiatorType","nextHopProtocol"],$e=function(e,t){return function(){var n=f((function(n){var r,o,i,a;return O(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),r=[{},n],[4,e(n)];case 1:return t.apply(void 0,[l.apply(void 0,r.concat([c.sent()]))]),[3,3];case 2:return o=c.sent(),null===window||void 0===window||null===(i=window.SQUARESPACE_SENTRY)||void 0===i||null===(a=i.captureException)||void 0===a||a.call(i,o),[3,3];case 3:return[2]}}))}));return function(e){return n.apply(this,arguments)}}()};function Ze(e){Object.values(M).forEach(function(){var t=f((function(t){var n,r,o;return O(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t(e)];case 1:return i.sent(),[3,3];case 2:return n=i.sent(),null===window||void 0===window||null===(r=window.SQUARESPACE_SENTRY)||void 0===r||null===(o=r.captureException)||void 0===o||o.call(r,n),[3,3];case 3:return[2]}}))}));return function(e){return t.apply(this,arguments)}}()),Ye.forEach($e(Be,e)),Ge.forEach($e(Ue,e))}var et=["more","less","custom"],tt,nt=function(){return null!==(tt=et.find((function(e){return window.matchMedia("prefers-contrast: ".concat(e)).matches})))&&void 0!==tt?tt:"no-preference"},rt=function(){var e;return{forceColors:window.matchMedia("(forced-colors: active)").matches,networkInformationType:null===(e=navigator.connection)||void 0===e?void 0:e.type,prefersContrast:nt(),prefersReducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches}},ot=function(e){e(rt(),"a11y")};function it(e){var t=new RegExp("(^| )".concat(e,"=([^;]+)")),n=document.cookie.match(t);return n?n[2]:""}function at(){return!(!window.PerformanceMeasure||!window.PerformanceMark)}function ct(){if(!Object.prototype.hasOwnProperty.call(window,"PerformanceObserver"))return!1;try{var e=new window.PerformanceObserver((function(){return null}));e.observe({entryTypes:["mark"]}),e.disconnect()}catch(e){return!1}return!0}function ut(){var e;return"function"==typeof(null===(e=window.navigator)||void 0===e?void 0:e.sendBeacon)&&!Ae.test(window.navigator.userAgent)}function st(){var e,t,n,r,o,i,a,c;return{context:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},analyticsId:it(Pe),marketingId:it(Te),memberId:null===(t=window.Static)||void 0===t||null===(n=t.SQUARESPACE_CONTEXT)||void 0===n||null===(r=n.authenticatedAccount)||void 0===r?void 0:r.id,version:ke,downlink:null===(o=navigator.connection)||void 0===o?void 0:o.downlink,effectiveType:null===(i=navigator.connection)||void 0===i?void 0:i.effectiveType,rtt:null===(a=navigator.connection)||void 0===a?void 0:a.rtt,saveData:null===(c=navigator.connection)||void 0===c?void 0:c.saveData,deliveryType:ut()?"beacon":"xhr",devicePixelRatio:window.devicePixelRatio,screenHeight:window.screen.height,screenWidth:window.screen.width,viewportHeight:window.innerHeight,viewportWidth:window.innerWidth,deviceMemory:navigator.deviceMemory,hardwareConcurrency:navigator.hardwareConcurrency,hash:window.location.hash||"",hostname:window.location.hostname||"",pathname:window.location.pathname||"/"}}var ft=function(){var e=f((function(e){var t,n;return O(this,(function(r){switch(r.label){case 0:return t=st(e),n={},Ze((function(e){Object.assign(n,e)})),[4,Promise.race([xe(6e4),Ce()])];case 1:return r.sent(),[2,g({},t,n)]}}))}));return function t(n){return e.apply(this,arguments)}}(),lt=function(){var e=f((function(e,t){var n;return O(this,(function(r){switch(r.label){case 0:return[4,ft(t)];case 1:return n=r.sent(),e(n,"page_speed"),[2]}}))}));return function t(n,r){return e.apply(this,arguments)}}(),dt=["media-www.sqspcdn.com","images.squarespace-cdn.com","static1.squarespace.com"],pt=function(e){return dt.some((function(t){return e.includes(t)}))},vt=function(e){return e.hasAttribute("data-loader")?2:e.hasAttribute("data-src")?1:0},mt=function(e,t){var n;if(e.hasAttribute("data-image-resolution"))return Number(null===(n=e.getAttribute("data-image-resolution"))||void 0===n?void 0:n.replace("w",""));var r=t.indexOf("format=");return-1!==r?Number(t.slice(r+7).replace(/w.*/,"")):NaN},yt=function(e,t,n){if(1===n&&d(e,HTMLImageElement)&&0===e.naturalHeight){var r=document.querySelector('div[style*="'.concat(t,'"]'));if(r)return r}return e},gt=function(e){var t,n,r,o;if(d(e,HTMLImageElement))return{naturalHeight:e.naturalHeight,naturalWidth:e.naturalWidth,width:e.width,height:e.height};var i=e.getBoundingClientRect(),a=Math.floor(i.width),c;return{naturalHeight:Math.floor(i.height),naturalWidth:a}},ht=function(){var e=f((function(e,t){var n,r,o,i,a,c,u,s,f,l,d,p,v,m,y,b,_;return O(this,(function(S){n=mt(t,e.name),r=vt(t),o=t.getAttribute("data-loader"),i=e.toJSON(),a=i.serverTiming,c=i.workerTiming,u=h(i,["serverTiming","workerTiming"]),s=!0,f=!1,l=void 0;try{for(d=Object.entries(u)[Symbol.iterator]();!(s=(p=d.next()).done);s=!0)v=w(p.value,2),m=v[0],"number"==typeof(y=v[1])&&(u[m]=Math.floor(y))}catch(e){f=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(f)throw l}}return b=yt(t,e.name,r),_=gt(b),[2,new Promise((function(e){var t=new IntersectionObserver((function(i){i.forEach((function(i){if(i.target===b)return t.disconnect(),e(g({visibleOnLoad:i.isIntersecting,observationTime:Math.floor(i.time),intersectionRatio:i.intersectionRatio,squarespaceSize:n,imageType:r,imageLoaderType:o},_,u))}))}));t.observe(b)}))]}))}));return function t(n,r){return e.apply(this,arguments)}}(),bt=function(){var e=f((function(e){var t,n,r,o,i;return O(this,(function(a){switch(a.label){case 0:return t=e.resource,n=e.deliverMetrics,d(t,PerformanceResourceTiming)&&"img"===t.initiatorType&&pt(t.name)?(r=t.name.replace(/\?.*/,""),o=Array.from(document.querySelectorAll('img[src="'.concat(t.name,'"], img[data-src*="').concat(r,'"], img[srcset*="').concat(t.name,'"]'))),document.querySelectorAll('picture > source[srcset="'.concat(t.name,'"]')).forEach((function(e){var t=e.parentElement;null!==t&&o.push(t)})),1!==o.length?[2]:[4,ht(t,o[0])]):[2];case 1:return i=a.sent(),n(i,"image"),[2]}}))}));return function t(n){return e.apply(this,arguments)}}(),wt=function(){var e=f((function(e){var t,n;return O(this,(function(r){return ct()?(t=function(t){return bt({resource:t,deliverMetrics:e})},performance.getEntriesByType("resource").forEach(t),(n=new PerformanceObserver((function(e){e.getEntries().forEach(t)}))).observe({entryTypes:["resource"]}),[2]):[2]}))}));return function t(n){return e.apply(this,arguments)}}(),_t,St=function(e){var t=e.spanName,n=e.tracer,r=e.startTime,o=e.spanAttributes,i=void 0===o?{}:o;void 0===_t&&(_t=new Map);var a=n.startSpan(t,{startTime:r});a.setAttributes(i),_t.set(t,a)},Ot=function(e){var t=e.spanName,n=e.spanAttributes,r=void 0===n?{}:n;if(void 0!==_t&&_t.has(t)){var o=_t.get(t);o.setAttributes(r),o.end(),_t.delete(t)}},Et="rum-",Tt=function(e){var t;"function"==typeof(null===window||void 0===window||null===(t=window.SQUARESPACE_SENTRY)||void 0===t?void 0:t.captureException)?window.SQUARESPACE_SENTRY.captureException(e):console.warn("@sqs/rum-collector: user timing exception: ".concat(e))};function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(!kt())return;var n=Et+e;window.performance.clearMarks(n);var r=window.performance.mark(n,{detail:t.detail,startTime:t.startTime});if(void 0!==t.tracer){var o,i=w(window.performance.getEntriesByName(n,"mark").slice(-1),1)[0];St({spanName:e,tracer:t.tracer,startTime:i.startTime,spanAttributes:t.spanAttributes})}return r}catch(e){Tt(e)}}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{requireStart:!1};try{if(!kt()||!At())return;var n=Et+e,r={detail:t.detail,duration:t.duration},o;if(void 0===t.start?window.performance.getEntriesByName(n,"mark").length>0&&(r.start=n):"string"==typeof t.start?r.start=Et+t.start:r.start=t.start,r.end="string"==typeof t.end?Et+t.end:t.end,t.requireStart&&"string"!=typeof r.start)return;if(void 0!==t.tracer){var i=g({measureName:n},t.spanAttributes);if("number"==typeof r.start)St({spanName:n,tracer:t.tracer,startTime:r.start}),Ot({spanName:n,spanAttributes:i});else{var a,c,u;if(0===window.performance.getEntriesByName(null!==(a=r.start)&&void 0!==a?a:n,"mark").length)St({spanName:null!==(c=r.start)&&void 0!==c?c:n,tracer:t.tracer,startTime:0});Ot({spanName:null!==(u=r.start)&&void 0!==u?u:n,spanAttributes:i})}}return xt(n,r),It(n)}catch(e){Tt(e)}}function At(){return"performance"in window&&"getEntries"in window.performance&&"getEntriesByType"in window.performance&&"getEntriesByName"in window.performance}function kt(){return"mark"in window.performance&&"measure"in window.performance}function It(e){var t=window.performance.getEntriesByName(e,"measure");return t[t.length-1]}function xt(e,t){try{window.performance.measure(e,t)}catch(o){var n="string"==typeof t.start?t.start:e,r="string"==typeof t.end?t.end:void 0;try{window.performance.measure(e,n,r)}catch(t){if(!d(t,DOMException))throw t;try{window.performance.measure(e,"navigationStart")}catch(t){if(!d(t,DOMException))throw t;window.performance.measure(e)}}}}function Ct(e){return"string"==typeof e&&e.substring(0,4)===Et}function Lt(e){var t={};for(var n in e)"function"!=typeof e[n]&&(t[n]=e[n]);return t}var Rt=new Set,Nt=function(e){if(at()){var t=function(t){var n;t.map(Lt).forEach((function(t){if(Ct(t.name)){var n="".concat(t.name,"|").concat(t.duration);Rt.has(n)||(e(t,"user"),Rt.add(n))}}))},n;if(t(window.performance.getEntriesByType("measure")),ct())new window.PerformanceObserver((function(e){return t(e.getEntries())})).observe({entryTypes:["measure"]});else document.addEventListener(Ee,(function(){"hidden"===document.visibilityState&&t(window.performance.getEntriesByType("measure"))}))}},Mt,Dt=[],Bt=function(e){Dt.push(e)};function qt(e,t){if(!ut()||!navigator.sendBeacon(e,t)){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.send(t)}}function Ut(){if(Dt.length){var e=JSON.stringify(Dt);qt(_e+Se,e),Dt=[]}}function Ht(){window.addEventListener(Oe,(function(){Mt=window.setTimeout(Ut,je)})),document.addEventListener(Ee,(function(){"hidden"===document.visibilityState&&(window.clearTimeout(Mt),Ut())}))}function Ft(e){Bt(g({raw:!0},e))}var Kt=function(e,t){return function(n,r){var o;Ft({app:e,data:n,event:r,pageLoadId:t,ts:Date.now()})}},Vt=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e&&e.apply(void 0,_(n))}},Wt=function(e){var t;return{appName:e.appName||"",context:e.context||{},enabled:"boolean"!=typeof e.enabled||e.enabled,captureException:Vt(e.captureException)}};function zt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=f((function(e){var t,n,r;return O(this,(function(o){switch(o.label){case 0:return(t=Wt(e)).enabled?[4,Promise.resolve().then((function(){return N(),I}))]:[2];case 1:n=o.sent().nanoid();try{r=Kt(t.appName,n),lt(r,t.context),Nt(r),wt(r),ot(r),Ht()}catch(e){t.captureException(e,{pageLoadId:n,parsedOptions:t})}return[2]}}))}))).apply(this,arguments)}var Qt={action:"load",actor:"user",event_owner_team:"web_performance",event_source:"web",object_type:"website"},Xt=function(){var e=/^qa\d+.sqsp.net/g,t=/^stage.sqsp.net/g,n=/(dev.squarespace.net|localhost|127.0.0.1|0.0.0.0)/g,r=window.location.hostname.substr(window.location.hostname.indexOf(".")+1);return t.test(r)||e.test(r)?"staging":n.test(r)?"dev":"prod"},Yt=function(e){var t;return new e({customSchemaName:"Performance",sourceEnvironment:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt()},Qt)},Gt=Object.freeze({cumulativeLayoutShift:"cumulative_layout_shift",decodedBodySize:"decoded_body_size_bytes",domContentLoadedEventEnd:"dom_content_loaded_event_end_ms",domContentLoadedEventStart:"dom_content_loaded_event_start_ms",domainLookup:"domain_lookup_ms",encodedBodySize:"encoded_body_size_bytes",firstContentfulPaint:"first_contentful_paint_ms",firstInputDelay:"first_input_delay_ms",largestContentfulPaint:"largest_contentful_paint_ms",loadEventEnd:"load_event_end_ms",loadEventStart:"load_event_start_ms",responseStart:"response_start_ms",tcpConnection:"tcp_connection_ms",tlsNegotiation:"tls_negotiation_ms"}),$t=function(){var e=f((function(e){var t;return O(this,(function(n){switch(n.label){case 0:return t={},Ze((function(e){Object.entries(e).forEach((function(e){var n=w(e,2),r=n[0],o=n[1];Object.prototype.hasOwnProperty.call(Gt,r)&&(t[Gt[r]]=o)}))})),[4,Promise.race([xe(6e4),Ce()])];case 1:return n.sent(),e(t),[2]}}))}));return function t(n){return e.apply(this,arguments)}}();function Zt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.warn("@sqs/rum-collector default export is deprecated. Use named export `init` instead."),zt.apply(void 0,_(t))}var en=n(7841),tn=n.n(en);function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var on=window.Static&&window.Static.SQUARESPACE_CONTEXT;function an(){return{templateId:on.templateId||""}}function cn(){var e=on.website,t=void 0===e?{}:e;return{authenticUrl:t.authenticUrl||"",cloneable:t.cloneable||!1,developerMode:t.developerMode||!1,isHstsEnabled:t.isHstsEnabled||!1,language:t.language||"",timeZone:t.timeZone||"",websiteId:t.id||"",websiteType:t.websiteType||-1}}function un(){var e=on.websiteSettings,t;return{ampEnabled:(void 0===e?{}:e).ampEnabled||!1}}function sn(){var e=on.collection,t;return{collectionType:(void 0===e?{}:e).type||-1}}function fn(){if(on){var e=on.impersonatedSession,t=void 0!==e&&e,n=on.pageType;zt({appName:"www",context:rn(rn(rn(rn({impersonatedSession:t,pageType:"number"==typeof n?n:-1},an()),cn()),un()),sn())})}}fn();var ln=Yt(tn());$t((function(e){ln.track(rn({event_name:"WebPerformance_LoadFrontsite",product_area:"frontsite",context_website_id:"www"},e))}))}(),r}()}));